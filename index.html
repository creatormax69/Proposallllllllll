<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hidden Identity Proposal</title>
<style>
  body {
    background: black;
    color: white;
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 20px;
  }
  section {
    display: none;
    margin-top: 50px;
  }
  section.active {
    display: block;
  }
  .btn {
    background: gold;
    border: none;
    padding: 10px 20px;
    font-size: 18px;
    cursor: pointer;
    margin-top: 20px;
  }
  .final-message {
    display: none;
    font-size: 24px;
    margin-top: 50px;
  }
  .final-message.reveal {
    display: block;
  }
</style>
</head>
<body>

<h1>ðŸ’Œ A Little Puzzle for You...</h1>

<!-- Clue Section -->
<section id="clue" class="active">
  <p>I was in class 8F last year...</p>
  <button class="btn" onclick="nextSection('q1')">Next</button>
</section>

<!-- Q1 -->
<section id="q1">
  <p>If Anandapadmanabhan proposed to you, would you accept?</p>
  <input type="text" id="a1" placeholder="Type your answer...">
  <button class="btn" onclick="sendAnswer('https://usebasin.com/f/c616b6478fce','a1','q2')">Send Response</button>
</section>

<!-- Q2 -->
<section id="q2">
  <p>If Vasudev proposed to you, would you accept?</p>
  <input type="text" id="a2" placeholder="Type your answer...">
  <button class="btn" onclick="sendAnswer('https://usebasin.com/f/52e5fef30f2f','a2','q3')">Send Response</button>
</section>

<!-- Q3 -->
<section id="q3">
  <p>If Ananthashayi proposed to you, would you accept?</p>
  <input type="text" id="a3" placeholder="Type your answer...">
  <button class="btn" onclick="sendAnswer('https://usebasin.com/f/6cadd7daab12','a3','q4')">Send Response</button>
</section>

<!-- Q4 -->
<section id="q4">
  <p>If Ritvik proposed to you, would you accept?</p>
  <input type="text" id="a4" placeholder="Type your answer...">
  <button class="btn" onclick="sendAnswer('https://usebasin.com/f/f9df72a3f0c8','a4','final')">Send Response</button>
</section>

<!-- Final -->
<section id="final">
  <p>ðŸ’¡ My name has 4 A's in it...</p>
  <div class="final-message" id="final-message">âœ¨ The End... or the Beginning âœ¨</div>
</section>

<script>
function nextSection(id) {
  document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function sendAnswer(url, inputId, nextId) {
  const answer = document.getElementById(inputId).value.trim();
  if (!answer) {
    alert("Please type an answer first.");
    return;
  }

  // Send answer to Basin without leaving page
  fetch(url, {
    method: "POST",
    headers: { "Content-Type": "application/x-www-form-urlencoded" },
    body: "response=" + encodeURIComponent(answer)
  })
  .then(() => {
    // Go to next section
    nextSection(nextId);
    if (nextId === "final") {
      setTimeout(() => document.getElementById("final-message").classList.add("reveal"), 1000);
    }
  })
  .catch(err => {
    console.error("Error sending to Basin:", err);
    alert("Something went wrong sending your answer.");
  });
}
</script>

</body>
</html>
