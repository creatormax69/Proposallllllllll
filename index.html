<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hidden Proposal</title>
<style>
  body { font-family: Arial, sans-serif; background: #111; color: white; padding: 20px; }
  section { margin: 50px 0; padding: 20px; border: 1px solid #444; border-radius: 8px; background: #222; }
  .btn { background: #ff0077; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; }
  .btn:hover { background: #ff3399; }
  .hidden { display: none; }
</style>
</head>
<body>

<h1>Proposal Puzzle</h1>

<!-- Question 1 -->
<section id="q1">
  <p>If Anandapadmanabhan proposed to you, would you accept?</p>
  <input type="text" id="a1" placeholder="Your answer..." required>
  <button class="btn" onclick="sendAnswer('https://usebasin.com/f/c616b6478fce','a1','q2')">Send Response</button>
</section>

<!-- Question 2 -->
<section id="q2" class="hidden">
  <p>If Vasudev proposed to you, would you accept?</p>
  <input type="text" id="a2" placeholder="Your answer..." required>
  <button class="btn" onclick="sendAnswer('https://usebasin.com/f/52e5fef30f2f','a2','q3')">Send Response</button>
</section>

<!-- Question 3 -->
<section id="q3" class="hidden">
  <p>If Ananthashayi proposed to you, would you accept?</p>
  <input type="text" id="a3" placeholder="Your answer..." required>
  <button class="btn" onclick="sendAnswer('https://usebasin.com/f/6cadd7daab12','a3','q4')">Send Response</button>
</section>

<!-- Question 4 -->
<section id="q4" class="hidden">
  <p>If Ritvik proposed to you, would you accept?</p>
  <input type="text" id="a4" placeholder="Your answer..." required>
  <button class="btn" onclick="sendAnswer('https://usebasin.com/f/f9df72a3f0c8','a4','final')">Send Response</button>
</section>

<!-- Final Reveal -->
<section id="final" class="hidden">
  <h2>My name has 4 A's in it...</h2>
</section>

<script>
function sendAnswer(url, inputId, nextId) {
  const answer = document.getElementById(inputId).value.trim();
  if (!answer) {
    alert("Please type an answer first.");
    return;
  }

  // Send data secretly to Basin
  fetch(url, {
    method: "POST",
    headers: { "Content-Type": "application/x-www-form-urlencoded" },
    body: "response=" + encodeURIComponent(answer)
  })
  .then(() => {
    // Hide current section
    document.getElementById(inputId).parentElement.classList.add("hidden");
    // Show next section
    document.getElementById(nextId).classList.remove("hidden");
    // Smooth scroll
    document.getElementById(nextId).scrollIntoView({ behavior: "smooth" });
  })
  .catch(err => {
    console.error("Error sending to Basin:", err);
    alert("Something went wrong sending your answer.");
  });
}
</script>

</body>
</html>
