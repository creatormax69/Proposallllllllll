<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>I have a secret for you ‚Äî Vedapriya</title>
<link rel="preconnect" href="https://fonts.gstatic.com">
<style>
  /* ----- Fonts & base ----- */
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;600;800&family=Playfair+Display:wght@400;700&display=swap');

  :root{
    --accent:#ff3c82;
    --accent-2:#ffd166;
    --bg1:#060606;
    --bg2:#101010;
    --glass: rgba(255,255,255,0.03);
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;color:#fff;background:linear-gradient(120deg,var(--bg1),#0f0f12);}
  a{color:inherit;text-decoration:none}
  main{overflow-x:hidden;}

  /* ----- Luxury animated header (like car site) ----- */
  .hero {
    min-height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
    padding:3rem 1.5rem;
    position:relative;
  }
  .hero .badge {
    background: linear-gradient(90deg,var(--accent),#ff8ab8);
    padding:8px 18px;border-radius:999px;font-weight:700;letter-spacing:0.6px;color:#0b0610;
    box-shadow:0 10px 30px rgba(255,60,130,0.12);
    transform:translateY(-6px);
  }
  h1.title {
    font-family:"Playfair Display",serif;
    font-size: clamp(28px,5vw,48px);
    margin:14px 0 6px;
    letter-spacing:1px;
    font-weight:700;
  }
  p.lead {
    opacity:0.85;max-width:820px;margin:0 auto 22px;font-size:1.05rem;
  }
  .start-btn {
    appearance:none;border:0;padding:14px 26px;border-radius:999px;background:#fff;color:#0b0610;font-weight:700;cursor:pointer;
    box-shadow: 0 10px 30px rgba(11,6,16,0.45);
    transition:transform .35s ease, box-shadow .35s;
  }
  .start-btn:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(255,60,130,0.18)}

  /* ----- moving stripes (car-luxury visual) ----- */
  .stripes {
    position:fixed;left:-20%;top:35%;width:160%;height:220px;pointer-events:none;opacity:0.08;z-index:0;
    background-image:linear-gradient(90deg, rgba(255,255,255,0.06) 0 10%, transparent 10% 100%);
    transform:skewY(-6deg);
    animation: stripeShift 10s linear infinite;
    mix-blend-mode:screen;
  }
  @keyframes stripeShift { from {transform:translateX(-30%) skewY(-6deg)} to {transform:translateX(30%) skewY(-6deg)} }

  /* ----- car silhouette (subtle) ----- */
  .car-sil {
    position:fixed;right:4%;bottom:4%;width:40vw;height:40vh;max-width:900px;opacity:0.05;z-index:0;
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 400'><path d='M40 260 C120 200 220 180 360 170 C520 160 720 150 860 170 C930 180 1030 210 1160 250 L1160 320 L40 320 Z' fill='%23ffffff'/></svg>");
    background-size:cover;background-repeat:no-repeat;filter:blur(8px);
  }

  /* ----- sections & animations ----- */
  section {
    min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:3.5rem 1.5rem;position:relative;
  }
  .card {
    width:100%;max-width:820px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:18px;padding:36px 28px;backdrop-filter: blur(6px);box-shadow: 0 8px 40px rgba(2,2,2,0.6);
    text-align:center;z-index:2;position:relative;
  }
  h2 {margin:0 0 10px;font-weight:700}
  p {margin:0 0 14px;opacity:0.9}

  /* fade-in utility */
  .fade-in {opacity:0;transform:translateY(28px);transition: all 700ms cubic-bezier(.2,.9,.3,1);}
  .visible{opacity:1;transform:translateY(0);}

  /* puzzle inputs & buttons */
  .input {
    margin-top:16px;display:flex;gap:10px;justify-content:center;align-items:center;
  }
  input[type="text"] {
    width:60%;min-width:220px;padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff;
    font-size:1rem;outline:none;
  }
  .btn {
    background:transparent;border:1px solid rgba(255,255,255,0.12);padding:10px 16px;border-radius:999px;color:#fff;cursor:pointer;
    transition: all .25s;
  }
  .btn.primary {background:linear-gradient(90deg,var(--accent),#ff8ab8);color:#060606;border:0;font-weight:700}
  .btn.primary:hover{transform:translateY(-4px);box-shadow:0 10px 30px rgba(255,60,130,0.12)}

  /* result text */
  .result {margin-top:12px;opacity:0.9;font-style:italic;color:var(--accent-2)}

  /* final reveal styling */
  #final-message {opacity:0;transform:scale(.98);transition: all 800ms ease; padding-top:6px }
  #final-message.reveal {opacity:1;transform:scale(1)}

  /* small responsive tweaks */
  @media (max-width:600px){
    input[type="text"]{width:100%}
    .car-sil{display:none}
  }

  /* audio visual (small pulse under final) */
  .pulse {
    margin-top:18px;width:80px;height:6px;border-radius:999px;background:linear-gradient(90deg,var(--accent),#ff8ab8);
    box-shadow:0 8px 30px rgba(255,60,130,0.12);opacity:0.7;
    animation: pulseX 1500ms infinite;
  }
  @keyframes pulseX{0%{transform:scaleX(.8)}50%{transform:scaleX(1.05)}100%{transform:scaleX(.8)}}
</style>
</head>
<body>
<main>

  <div class="stripes" aria-hidden="true"></div>
  <div class="car-sil" aria-hidden="true"></div>

  <!-- HERO / Intro -->
  <section id="intro" class="hero">
    <div class="card fade-in" id="intro-card">
      <div class="badge">Secret Message</div>
      <h1 class="title">I have a secret for you, <span style="color:var(--accent)">Vedapriya</span>‚Ä¶</h1>
      <p class="lead">This isn't just a message ‚Äî it's my way of expressing something real. Click start to unlock a few clues and a little surprise.</p>
      <button class="start-btn" id="startBtn">Start</button>
    </div>
  </section>

  <!-- Clue 1: Guitar -->
  <section id="puzzle1a">
    <div class="card fade-in">
      <h2>Clue 1: üé∏</h2>
      <p>I play guitar. Any idea who I might be?</p>
      <div class="input">
        <input type="text" id="input1a" placeholder="Guess a name..." />
        <button class="btn primary" onclick="handleAnswerSimple('result1a','puzzle1b')">Submit</button>
      </div>
      <div id="result1a" class="result"></div>
    </div>
  </section>

  <!-- Clue 2: Code -->
  <section id="puzzle1b">
    <div class="card fade-in">
      <h2>Clue 2: üíª</h2>
      <p>I also code, I represented the school in a South India based Sci-Fair. That might ring a bell‚Ä¶</p>
      <div class="input">
        <input type="text" id="input1b" placeholder="Guess again..." />
        <button class="btn primary" onclick="handleAnswerSimple('result1b','puzzle1c')">Submit</button>
      </div>
      <div id="result1b" class="result"></div>
    </div>
  </section>

  <!-- Clue 3: 8F -->
  <section id="puzzle1c">
    <div class="card fade-in">
      <h2>Clue 3: üè´</h2>
      <p>I was in 8F last year. Now do you remember?</p>
      <div class="input">
        <input type="text" id="input1c" placeholder="Try a final name..." />
        <button class="btn primary" onclick="handleAnswerSimple('result1c','final-question1')">Submit</button>
      </div>
      <div id="result1c" class="result"></div>
    </div>
  </section>

  <!-- Proposal Questions (Basin) -->
  <section id="final-question1">
    <div class="card fade-in">
      <h2>Question 1</h2>
      <p>Will you accept the proposal if <strong>Anandapadmanabhan</strong> proposed to you?</p>
      <div class="input">
        <input type="text" id="answer1" placeholder="Type your honest answer..." />
        <button class="btn primary" onclick="sendBasin('https://usebasin.com/f/c616b6478fce','answer1','q1-result','final-question2')">Send Response</button>
      </div>
      <div id="q1-result" class="result"></div>
    </div>
  </section>

  <section id="final-question2">
    <div class="card fade-in">
      <h2>Question 2</h2>
      <p>Will you accept the proposal if <strong>Vasudev</strong> proposed to you?</p>
      <div class="input">
        <input type="text" id="answer2" placeholder="Type your honest answer..." />
        <button class="btn primary" onclick="sendBasin('https://usebasin.com/f/52e5fef30f2f','answer2','q2-result','final-question3')">Send Response</button>
      </div>
      <div id="q2-result" class="result"></div>
    </div>
  </section>

  <section id="final-question3">
    <div class="card fade-in">
      <h2>Question 3</h2>
      <p>Will you accept the proposal if <strong>Ananthashayi</strong> proposed to you?</p>
      <div class="input">
        <input type="text" id="answer3" placeholder="Type your honest answer..." />
        <button class="btn primary" onclick="sendBasin('https://usebasin.com/f/6cadd7daab12','answer3','q3-result','final-question4')">Send Response</button>
      </div>
      <div id="q3-result" class="result"></div>
    </div>
  </section>

  <section id="final-question4">
    <div class="card fade-in">
      <h2>Question 4</h2>
      <p>Will you accept the proposal if <strong>Ritvik R</strong> proposed to you?</p>
      <div class="input">
        <input type="text" id="answer4" placeholder="Type your honest answer..." />
        <button class="btn primary" onclick="sendBasin('https://usebasin.com/f/f9df72a3f0c8','answer4','q4-result','final')">Send Response</button>
      </div>
      <div id="q4-result" class="result"></div>
    </div>
  </section>

  <!-- Final Reveal -->
  <section id="final">
    <div class="card fade-in">
      <h2>It‚Äôs me‚Ä¶</h2>
      <h1 style="font-family:'Playfair Display',serif;letter-spacing:8px;margin:6px 0 10px">I have a clue for U</h1>
      <p>You might have guessed it... or maybe not.</p>
      <p style="opacity:0.8">Hint: My name has <strong>4 A‚Äôs</strong> in it. üñ§</p>
      <div id="final-message" class="pulse">‚ú® Reveal coming ‚ú®</div>
    </div>
  </section>

  <!-- background music (hidden control) -->
  <audio id="bgMusic" loop>
    <source src="jo-tum-mere-ho.mp3" type="audio/mpeg">
  </audio>

</main>

<script>
/* -------------------------
   Helpers: fade-in on scroll
   ------------------------- */
const faders = document.querySelectorAll('.fade-in');
const io = new IntersectionObserver((entries) => {
  entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
},{threshold:0.25});
faders.forEach(f => io.observe(f));

/* -------------------------
   Start button: go to first clue
   ------------------------- */
document.getElementById('startBtn').addEventListener('click', () => {
  document.getElementById('intro').scrollIntoView({behavior:'smooth'});
  // short delay to nudge next section visible
  setTimeout(()=> document.getElementById('puzzle1a').scrollIntoView({behavior:'smooth'}), 600);
  // attempt to autoplay music if available and allowed
  const m = document.getElementById('bgMusic');
  if (m) {
    m.play().catch(()=>{/* autoplay blocked on some browsers */});
  }
});

/* -------------------------
   Simple clue handlers (non-Basin) - show message then move on
   ------------------------- */
function handleAnswerSimple(resultId, nextSectionId) {
  document.getElementById(resultId).textContent = "You might be right... or you might be wrong.";
  // small flicker before moving forward
  setTimeout(() => {
    document.getElementById(nextSectionId).scrollIntoView({behavior:'smooth'});
  }, 900);
}

/* -------------------------
   Basin AJAX sender (no redirect)
   - url: the Basin form URL provided
   - inputId: id of input field
   - resultId: id where "You might be right..." appears
   - nextSectionId: id of next section to scroll into
   ------------------------- */
function sendBasin(url, inputId, resultId, nextSectionId) {
  const input = document.getElementById(inputId);
  const val = input.value.trim();
  if (!val) { alert("Please type your answer first."); return; }

  // Show temporary message immediately
  const resultEl = document.getElementById(resultId);
  resultEl.textContent = "Sending...";
  resultEl.style.opacity = 0.9;

  // Send using fetch (x-www-form-urlencoded)
  fetch(url, {
    method: "POST",
    headers: { "Content-Type": "application/x-www-form-urlencoded" },
    body: "response=" + encodeURIComponent(val)
  }).then(resp => {
    // Basin returns a redirect normally, but fetch ignores navigation ‚Äî success here means request was sent
    resultEl.textContent = "You might be right... or you might be wrong.";
    // small delay so message is seen
    setTimeout(() => {
      // clear input for privacy and hide
      input.value = "";
      // scroll to next
      document.getElementById(nextSectionId).scrollIntoView({behavior:'smooth'});
      // special handling if we reached final to reveal final-message
      if (nextSectionId === 'final') {
        setTimeout(() => document.getElementById('final-message').classList.add('reveal'), 900);
      }
    }, 900);
  }).catch(err => {
    console.error("Basin send error:", err);
    resultEl.textContent = "Oops ‚Äî couldn't send. Try again.";
  });
}

/* -------------------------
   Ensure sections begin in the right order and are accessible by scroll
   ------------------------- */
/* Make sure intro is top, then clues & questions flow naturally.
   We don't hide sections with display:none so smooth scroll + fade works.
   If you want to force order (one-by-one visibility) you can programmatically
   scroll as we've been doing ‚Äî current approach scrolls to sections as needed.
*/

/* Optional: keyboard enter to submit (for nicer UX) */
document.addEventListener('keydown', (e) => {
  if (e.key === 'Enter') {
    // try to find first visible input in viewport and trigger its button
    const inputs = Array.from(document.querySelectorAll('input[type="text"]'));
    for (const ip of inputs) {
      const rect = ip.getBoundingClientRect();
      if (rect.top >= 0 && rect.top < window.innerHeight/1.2) {
        // find sibling button (next element)
        const parent = ip.parentElement;
        const btn = parent.querySelector('button') || ip.nextElementSibling;
        if (btn) { btn.click(); break; }
      }
    }
  }
});
</script>
</body>
</html>
